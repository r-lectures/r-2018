<!DOCTYPE html>
<html>

    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Clase 6</title>
    <meta name="description" content="Programación y análisis de datos en R con aplicaciones científicas
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://localhost:4000/lessons/06-lecture.html">
    <!-- <link rel="alternate" type="application/rss+xml" title="Programación en R - 2017" href="http://localhost:4000/feed.xml" /> -->
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
</head>


    <body>

        <header id="header" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <a href="/index.html" class="navbar-brand">Programación en R - 2017</a>
      <div class="navbar-header">
        <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>

      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
	  
	  
	  
	  
	  <li><a href="http://localhost:4000/lessons/" >Clases</a></li>
	  
	  
	  
	  
	  
	  <li><a href="http://localhost:4000/resources.html" >Biblio</a></li>
	  
	  
	  
	  
	  
	  <li><a href="http://localhost:4000/datasets.html" >Data</a></li>
	  
	  
	  
	  
	  
	  

	      <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/01-lecture.html">Clase 1 - Intro</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/02-lecture.html">Clase 2</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/03-lecture.html">Clase 2</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/04-lecture.html">Clase 4</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/05-lecture.html">Clase 5</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/06-lecture.html">Clase 6</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/">index</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/07-lecture.html">Clase 7</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/">Clases</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/posts.html">Posts</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/datasets.html">Datos</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/resources.html">Biblio</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/about.html">Sobre el curso</a></li> -->
              <!--  -->
              <!--  -->
        </ul>
	<ul class="nav navbar-nav navbar-right">
	  
	  
	  <li><a href="http://localhost:4000/about.html" >Sobre la materia</a></li>
	</ul>

        </div><!-- /.navbar-collapse -->
    </div>
</header>

<style>
  .bottom-three {
     margin-bottom: 2cm;
  }
</style>


<p class="bottom-three">
</p>
<!-- <div class="site-banner"> -->
<!--     <img src="/images/banner.jpg"></img> -->
<!-- </div> -->



        <div class="site-content container">
            <div class="col-md-9">
                <h1 id="emma-habla-de-caret">Emma habla de Caret</h1>

<h1 id="repaso-de-la-clase-anterior">Repaso de la clase anterior</h1>

<h2 id="rstudio">RStudio</h2>

<ul>
  <li>
    <p>Working directory / Workspace</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>getwd() # para saber donde estoy
setwd("path/to/dir") # para decirle donde quiero estar
</code></pre>
    </div>
  </li>
  <li>Proyectos: Conjunto de archivos que van juntos: miproyecto.Rproj, .RData, .Rsession, etc</li>
  <li>Cómo grabo lo que hago?</li>
</ul>

<ol class="smallfont">
  <li>abrir un proyecto nuevo y grabar después</li>
  <li>grabar en algún directorio y después decirle que haga un proyecto ahí</li>
  <li>sin proyectos, gestionar todo uno mismo (no muy recomendado)</li>
</ol>

<div class="NOTES">
-   &lt;https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects&gt;
-   Usen atajos de teclado! Ver machete de RStudio (cheatsheet) en Slack

</div>

<h2 id="funciones">Funciones</h2>

<div class="NOTES">
Una función tiene como propósito encapsular y automatizar tareas que se repetirón, posiblemente 
sobre objetos distintos cada vez. Por ejemplo, la función \`read\_csv\` o \`plot\` contiene código que no
querríamos escribir cada vez que queremos cargar datos de un archivo csv o hacer un gráfico. A su
vez, con ellas podemos cargar datos de cualquier archivo csv o hacer cualquier gráfico.

Más información en &lt;http://r4ds.had.co.nz/functions.html&gt;.

</div>

<div class="highlighter-rouge"><pre class="highlight"><code># mi función se llama alta_funcion, con dos argumentos
alta_funcion &lt;- function(arg1 = 10, arg2 = TRUE, ...){

  # acá empieza mi código
  library(paquete_externo)
  x &lt;- funcion_externa(arg_ext = arg1) 
  ...
  alto código
  código y más código
  ...
  alto_resultado &lt;- mansa_funcion(arg2) # genero alto_resultado

  return(alto_resultado) # devuelvo alto resultado
}

# llamo a mi función de distintas maneras
x_default &lt;- alta_funcion() # uso arg1 = 10 y arg2 = TRUE
x_100_F   &lt;- alta_funcion(100, FALSE)
x_200_T   &lt;- alta_funcion(200, TRUE)
mi_var    &lt;- alta_funcion(arg2 = FALSE, arg_ext = 10.2) # uso arg1 = 10
</code></pre>
</div>

<h1 id="repaso-de-la-práctica-5">Repaso de la práctica 5</h1>

<p>Trabajamos sobre datos de ruido de Buenos Aires Data.</p>

<ol>
  <li>
    <p>Escribir una función que devuelva el min, máx y promedio (mean) del ruido dependiendo del barrio</p>
  </li>
  <li>Porqué obtengo un <code class="highlighter-rouge">NA</code> en los resultados de la práctica anterior?
    <ol>
      <li>Usar lo aprendido sobre joins para no tener este <code class="highlighter-rouge">NA</code></li>
    </ol>
  </li>
  <li>Cómo puedo mejorar la columna FECHA de la práctica 3? Consejo: usar el paquete <code class="highlighter-rouge">stringr</code> más <code class="highlighter-rouge">tidyr::separate</code></li>
  <li>Cuál es la hora de mayor ruido del día? Cuál es el dia más ruidoso de la semana? Hay algún barrio
con mucho más ruido durante el fin de semana que el resto?</li>
</ol>

<h1 id="types-tipos-de-datos">‘Types’: tipos de datos</h1>

<ul>
  <li>‘logical’:    TRUE o FALSE</li>
  <li>‘integer’:    naturales: …, -1, 0, 1, …</li>
  <li>‘double’:    irracionales: 3.1415926</li>
  <li>‘character’:    alfanuméricos: “pi”</li>
  <li>‘complex’:    1+i10</li>
  <li>‘raw’:     48 65 6c 6c 6f</li>
</ul>

<h2 id="logical">logical</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>v &lt;- TRUE 
print(class(v))
#&gt; [1] "logical"
is.logical(v) 
#&gt; [1] TRUE
1:10 %% 3 == 0 #: para generar una secuencia, %% es el operador módulo (hagan ?: y ?%%)
#&gt;  [1] FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE
c(TRUE, TRUE, FALSE, NA)
#&gt; [1]  TRUE  TRUE FALSE    NA
</code></pre>
</div>

<h2 id="integer">integer</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>v &lt;- 2L
print(class(v))
is.integer(v)
is.numeric(v) 
#&gt; [1] TRUE
typeof(1)
#&gt; [1] "double"
typeof(1L)
#&gt; [1] "integer"
1.5L
#&gt; [1] 1.5
</code></pre>
</div>

<p>Valor especial: NA</p>

<h2 id="double">double</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>v &lt;- 23.5
print(class(v))
is.double(v)
is.numeric(v)

x &lt;- sqrt(2) ^ 2
x
#&gt; [1] 2
x - 2
#&gt; [1] 4.44e-16
c(-1, 0, 1) / 0
#&gt; [1] -Inf  NaN  Inf
</code></pre>
</div>

<p>Los ‘double’ son siempre aproximaciones!</p>

<p>Valores especiales: NA, NaN, Inf y -Inf</p>

<p>Usar: is.finite(), is.infinite(), is.na(), is.nan()</p>

<h2 id="character">character</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>v &lt;- "TRUE" # v &lt;- "Maldad pura"
print(class(v))
is.character(v)

x &lt;- "Las cadenas de caracteres pueden tener una longitud arbitrariamente larga mal que nos pese"
</code></pre>
</div>

<h2 id="complex-y-raw">complex y raw</h2>

<p>Para numeros complejos, complex</p>

<div class="highlighter-rouge"><pre class="highlight"><code>v &lt;- 2+5i
print(class(v))
is.complex()
</code></pre>
</div>

<p>Para trabajar en bytes, se puede usar raw</p>

<div class="highlighter-rouge"><pre class="highlight"><code>v &lt;- charToRaw("Hello")
print(class(v))
is.raw()
</code></pre>
</div>

<h1 id="objetos-r-vectores">Objetos R: vectores</h1>

<p>Existen dos clases de vectores:</p>

<ol>
  <li><span class="underline">Vectores ‘atómicos’</span> (<em>atomic vectors</em>), todos los elementos del mismo tipo
    <ul>
      <li>puede haber de los 6 tipos: ‘logical’, ‘integer’, ‘double’, ‘character’, ‘complex’ y ‘raw’</li>
      <li>Integer y double son tratados como ‘numeric’</li>
      <li>No hay escalares en R, si no vectores de longitud 1</li>
    </ul>
  </li>
  <li><span class="underline">Listas</span>
    <ul>
      <li>Pueden a su vez contener listas (vectores recursivos)</li>
      <li>data.frames son caso especial cuando los vectores que la componen son de igual longitud</li>
    </ul>
  </li>
</ol>

<p>Las propiedades más importantes de los vectores son que <em>tipo</em> de vector es -typeof()-, que
<em>longitud</em> tiene -length()- y cuales <em>atributos</em> tiene asociados. Los atributos son metadata
arbitraria que se puede asociar a cualquier objeto R. Se determinan y consultan con <em>attr()</em> para
alguno en particular y con <em>attributes()</em> se consultan todos los que el objeto tenga.</p>

<div class="NOTES">
La principal diferencia entre los vectores atómicos y las listas es que los primeros son homogeneos,
o sea todos sus elementos son del mismo tipo, mientras que en las listas no es necesario. 

Hay un objeto relacionado, 'NULL', que es la ausencia de un vector (en cambio, NA es la *ausencia* de un valor de un
vector, además de ser un vector lógico de longitud 1). NULL se puede tratar como un vector de longitud 0. Pueden leer más en los libros (colgados
en slack) o en &lt;https://www.r-bloggers.com/r-na-vs-null/&gt;

Otro punto importante es que la función is.vector() no dice realmente si es un vector o no, si no
que devuelve TRUE si el objeto es un vector sin atributos (aparte de su nombre). Para saber si es un
vector atómico o una lista, usar is.atomic(x) e is.list(x).

</div>

<h2 id="vectores-r">Vectores R</h2>

<p><img style="WIDTH:700px; HEIGHT:600px; border:0" src="./figs/data-structures-overview.png" /></p>

<h3 id="propiedades-de-vectores">Propiedades de vectores</h3>

<p><span class="underline">Tipo</span>, que se determina con <em>typeof()</em></p>

<div class="highlighter-rouge"><pre class="highlight"><code>typeof(letters)
#&gt; [1] "character"
typeof(1:10)
#&gt; [1] "integer"
</code></pre>
</div>

<p><span class="underline">Longitud</span>, que se determina con <em>length()</em></p>

<div class="highlighter-rouge"><pre class="highlight"><code>x &lt;- list("a", "b", 1:10)
length(x)
#&gt; [1] 3
</code></pre>
</div>

<p><span class="underline">Atributos</span>, que se determinan con <em>attributes()</em> y <em>attr()</em></p>

<div class="highlighter-rouge"><pre class="highlight"><code>y &lt;- 1:10
attr(y, "mi_atributo") &lt;- "Esto es un vector"
</code></pre>
</div>

<p>Los tres atributos más importantes se obtienen con <em>names()</em>, <em>class()</em> y <em>dim()</em>. Este último
atributo permite expandir los vectores atómicos a <em>arrays</em> multidimensionales (tensores), cuyo caso
especial 2d son las matrices. <em>dim()</em> generaliza también el papel de <em>length()</em> al caso de arrays,
mientras que <em>nrow()</em> y <em>ncol()</em> lo hacen para el caso especial de matrices ()</p>

<h2 id="listas">Listas</h2>

<p>Sus elementos pueden tener cualquier tipo, longitud (dimensión!) o atributos, incluyendo otras
listas o funciones ¯\_(ツ)_/¯</p>

<div class="highlighter-rouge"><pre class="highlight"><code># una lista simple
x &lt;- list(1, 2, 3)
str(x)

# elementos con nombre
x_named &lt;- list(a = 1, b = 2, c = 3)
str(x_named)

y &lt;- list("a", 1L, 1.5, TRUE)
str(y)

# mezcla de tipos en el mismo pbjeto
y &lt;- list("a", 1L, 1.5, TRUE)
str(y)

# listas de listas
z &lt;- list(list(1, 2), list(3, 4))
str(z)

# ya conociemos las listas 
is.list(mtcars)
#&gt; [1] TRUE

unlist(mtcars) # podemos 'aplanar' una lista!
</code></pre>
</div>

<h2 id="mañana-vectores-aumentados-y-subsetting">Mañana: Vectores “aumentados” y <em>subsetting</em></h2>

<ul>
  <li><span class="underline">Factores</span>, construidos sobre vectores ‘integer’</li>
  <li><span class="underline">Data frames</span> (y tibbles) sobre ‘lists’</li>
  <li><span class="underline">Dates</span> y <span class="underline">date-times</span>, sobre vectores ‘numeric’</li>
</ul>

<h1 id="práctica-6">Práctica 6</h1>

<ul>
  <li>Cuáles son las 3 propiedades de un vector, aparte de su contenido?</li>
  <li>Cuáles son los 4 tipos más comunes de vectores atómicos? Cuál los dos menos comunes?</li>
  <li>Qué son atributos? Cómo se obtienen y como se asignan?</li>
  <li>De que manera es una lista diferente de un vector atómico? Porque una matriz es diferente de un data frame?</li>
</ul>


            </div>
            <div id="site-side-bar" class="col-md-3">
                <div id="navigation">
    <!-- <div class="panel panel-default"> -->
    <!--     <\!-- <div class="panel-heading">Social Media</div> -\-> -->
    <!--     <div class="panel-body"> -->
    <!--         <ul class="nav"> -->
    <!--              -->
    <!--             <li> -->
    <!--                 <a href="https://github.com/lgmoyano"> -->
    <!--                     <span class="icon  icon--github"> -->
    <!--                         <svg viewBox="0 0 16 16"> -->
    <!--                             <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/> -->
    <!--                         </svg> -->
    <!--                     </span> -->

    <!--                     <span class="username">lgmoyano</span> -->
    <!--                 </a> -->
    <!--             </li> -->
    <!--              -->
    <!--              -->
    <!--             <li> -->
    <!--                 <a href="https://twitter.com/@luisgmoyano"> -->
    <!--                     <span class="icon  icon--twitter"> -->
    <!--                         <svg viewBox="0 0 16 16"> -->
    <!--                             <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809 -->
    <!--                             c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/> -->
    <!--                         </svg> -->
    <!--                     </span> -->

    <!--                     <span class="username">@luisgmoyano</span> -->
    <!--                 </a> -->
    <!--             </li> -->
    <!--              -->
    <!--         </ul> -->
    <!--     </div> -->
    <!-- </div> -->

    <!-- <div class="panel panel-default"> -->
    <!--     <div class="panel-heading">Archivo</div> -->
    <!--     <div class="panel-body"> -->
    <!--          -->

    <!--         <ul class="nav"> -->
    <!--              -->
    <!--             <li class="archive-entry"> -->
    <!--                 <a href="javascript:void(0)">Apr 2017 <span class="badge pull-right">2</span></a> -->
    <!--                 <ul> -->
    <!--                      -->
    <!--                     <li><a href="/2017/04/05/simple.html">using types effectively</a></li> -->
    <!--                      -->
    <!--                     <li><a href="/2017/04/05/simple.html">Simple</a></li> -->
    <!--                      -->
    <!--                 </ul> -->
    <!--             </li> -->
    <!--              -->
    <!--             <li class="archive-entry"> -->
    <!--                 <a href="javascript:void(0)">Aug 2015 <span class="badge pull-right">2</span></a> -->
    <!--                 <ul> -->
    <!--                      -->
    <!--                     <li><a href="/haskell/2015/08/30/hello-world-in-haskell.html">hello world in haskell</a></li> -->
    <!--                      -->
    <!--                     <li><a href="/jekyll/update/2015/08/29/welcome-to-jekyll.html">Welcome to Jekyll!</a></li> -->
    <!--                      -->
    <!--                 </ul> -->
    <!--             </li> -->
    <!--              -->
    <!--             <li class="archive-entry"> -->
    <!--                 <a href="javascript:void(0)">Jan 2015 <span class="badge pull-right">4</span></a> -->
    <!--                 <ul> -->
    <!--                      -->
    <!--                     <li><a href="/jekyll/update/2015/01/07/dummy-post-2.html">dummy 2</a></li> -->
    <!--                      -->
    <!--                     <li><a href="/2015/01/06/dummy-post-2.html">Programación en R</a></li> -->
    <!--                      -->
    <!--                     <li><a href="/2015/01/06/dummy-post-2.html">Dummy Post 2</a></li> -->
    <!--                      -->
    <!--                     <li><a href="/2015/01/06/dummy-post-1.html">Programación en R</a></li> -->
    <!--                      -->
    <!--                 </ul> -->
    <!--             </li> -->
    <!--              -->
    <!--         </ul> -->
    <!--     </div> -->
    <!-- </div> -->

</div>


            </div>
        </div>

        <!-- <p><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="position:absolute;RIGHT:10px; TOP:550px; border-width:0" src="by-nc.png" height="20" width="95"/></a></p> -->


    </body>

</html>
